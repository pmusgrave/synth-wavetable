ARM GAS  /tmp/ccNu5QHq.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"midi.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Receive_MIDI,"ax",%progbits
  18              		.align	1
  19              		.global	Receive_MIDI
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	Receive_MIDI:
  26              	.LFB130:
  27              		.file 1 "Src/midi.c"
   1:Src/midi.c    **** #include "midi.h"
   2:Src/midi.c    **** #include <stdint.h>
   3:Src/midi.c    **** 
   4:Src/midi.c    **** const uint16_t midi_notes[127] = {
   5:Src/midi.c    ****   275,
   6:Src/midi.c    ****   291,
   7:Src/midi.c    ****   309,
   8:Src/midi.c    ****   327,
   9:Src/midi.c    ****   346,
  10:Src/midi.c    ****   367,
  11:Src/midi.c    ****   389,
  12:Src/midi.c    ****   412,
  13:Src/midi.c    ****   437,
  14:Src/midi.c    ****   462,
  15:Src/midi.c    ****   490,
  16:Src/midi.c    ****   519,
  17:Src/midi.c    ****   550,
  18:Src/midi.c    ****   583,
  19:Src/midi.c    ****   617,
  20:Src/midi.c    ****   654,
  21:Src/midi.c    ****   693,
  22:Src/midi.c    ****   734,
  23:Src/midi.c    ****   778,
  24:Src/midi.c    ****   824,
  25:Src/midi.c    ****   873,
  26:Src/midi.c    ****   925,
  27:Src/midi.c    ****   980,
  28:Src/midi.c    ****   1038,
  29:Src/midi.c    ****   1100,
  30:Src/midi.c    ****   1165,
  31:Src/midi.c    ****   1235,
ARM GAS  /tmp/ccNu5QHq.s 			page 2


  32:Src/midi.c    ****   1308,
  33:Src/midi.c    ****   1386,
  34:Src/midi.c    ****   1468,
  35:Src/midi.c    ****   1556,
  36:Src/midi.c    ****   1648,
  37:Src/midi.c    ****   1746,
  38:Src/midi.c    ****   1850,
  39:Src/midi.c    ****   1960,
  40:Src/midi.c    ****   2077,
  41:Src/midi.c    ****   2200,
  42:Src/midi.c    ****   2331,
  43:Src/midi.c    ****   2469,
  44:Src/midi.c    ****   2616,
  45:Src/midi.c    ****   2772,
  46:Src/midi.c    ****   2937,
  47:Src/midi.c    ****   3111,
  48:Src/midi.c    ****   3296,
  49:Src/midi.c    ****   3492,
  50:Src/midi.c    ****   3700,
  51:Src/midi.c    ****   3920,
  52:Src/midi.c    ****   4153,
  53:Src/midi.c    ****   4400,
  54:Src/midi.c    ****   4662,
  55:Src/midi.c    ****   4939,
  56:Src/midi.c    ****   5233,
  57:Src/midi.c    ****   5544,
  58:Src/midi.c    ****   5873,
  59:Src/midi.c    ****   6223,
  60:Src/midi.c    ****   6593,
  61:Src/midi.c    ****   6985,
  62:Src/midi.c    ****   7400,
  63:Src/midi.c    ****   7840,
  64:Src/midi.c    ****   8306,
  65:Src/midi.c    ****   8800,
  66:Src/midi.c    ****   9323,
  67:Src/midi.c    ****   9878,
  68:Src/midi.c    ****   10465,
  69:Src/midi.c    ****   11087,
  70:Src/midi.c    ****   11747,
  71:Src/midi.c    ****   12445,
  72:Src/midi.c    ****   13185,
  73:Src/midi.c    ****   13969,
  74:Src/midi.c    ****   14800,
  75:Src/midi.c    ****   15680,
  76:Src/midi.c    ****   16612,
  77:Src/midi.c    ****   17600,
  78:Src/midi.c    ****   18647,
  79:Src/midi.c    ****   19755,
  80:Src/midi.c    ****   20930,
  81:Src/midi.c    ****   22175,
  82:Src/midi.c    ****   23493,
  83:Src/midi.c    ****   24890,
  84:Src/midi.c    ****   26370,
  85:Src/midi.c    ****   27938,
  86:Src/midi.c    ****   29600,
  87:Src/midi.c    ****   31360,
  88:Src/midi.c    ****   33224,
ARM GAS  /tmp/ccNu5QHq.s 			page 3


  89:Src/midi.c    ****   35200,
  90:Src/midi.c    ****   37293,
  91:Src/midi.c    ****   39511,
  92:Src/midi.c    ****   41860
  93:Src/midi.c    **** };
  94:Src/midi.c    **** 
  95:Src/midi.c    **** void Receive_MIDI(SPI_HandleTypeDef* hspi, uint8_t* spi_rx_buffer) {
  28              		.loc 1 95 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              	.LVL0:
  33 0000 30B5     		push	{r4, r5, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 12
  36              		.cfi_offset 4, -12
  37              		.cfi_offset 5, -8
  38              		.cfi_offset 14, -4
  39 0002 83B0     		sub	sp, sp, #12
  40              	.LCFI1:
  41              		.cfi_def_cfa_offset 24
  42 0004 0446     		mov	r4, r0
  43 0006 0D46     		mov	r5, r1
  96:Src/midi.c    ****   //  if(!HAL_GPIO_ReadPin(GPIOF,GPIO_PIN_6) &&
  97:Src/midi.c    ****   if( HAL_SPI_GetState(hspi) == HAL_SPI_STATE_READY){
  44              		.loc 1 97 0
  45 0008 FFF7FEFF 		bl	HAL_SPI_GetState
  46              	.LVL1:
  47 000c 0128     		cmp	r0, #1
  48 000e 01D0     		beq	.L4
  49              	.L1:
  98:Src/midi.c    ****     uint8_t data[3] = {0xAB, 0xAB, 0xAB};
  99:Src/midi.c    ****     HAL_SPI_TransmitReceive_IT(hspi, &data, spi_rx_buffer, 1);
 100:Src/midi.c    ****   }
 101:Src/midi.c    **** }
  50              		.loc 1 101 0
  51 0010 03B0     		add	sp, sp, #12
  52              	.LCFI2:
  53              		.cfi_remember_state
  54              		.cfi_def_cfa_offset 12
  55              		@ sp needed
  56 0012 30BD     		pop	{r4, r5, pc}
  57              	.LVL2:
  58              	.L4:
  59              	.LCFI3:
  60              		.cfi_restore_state
  61              	.LBB2:
  98:Src/midi.c    ****     uint8_t data[3] = {0xAB, 0xAB, 0xAB};
  62              		.loc 1 98 0
  63 0014 064B     		ldr	r3, .L5
  64 0016 1B68     		ldr	r3, [r3]
  65 0018 ADF80430 		strh	r3, [sp, #4]	@ movhi
  66 001c 1B0C     		lsrs	r3, r3, #16
  67 001e 8DF80630 		strb	r3, [sp, #6]
  99:Src/midi.c    ****   }
  68              		.loc 1 99 0
  69 0022 0123     		movs	r3, #1
ARM GAS  /tmp/ccNu5QHq.s 			page 4


  70 0024 2A46     		mov	r2, r5
  71 0026 01A9     		add	r1, sp, #4
  72 0028 2046     		mov	r0, r4
  73 002a FFF7FEFF 		bl	HAL_SPI_TransmitReceive_IT
  74              	.LVL3:
  75              	.LBE2:
  76              		.loc 1 101 0
  77 002e EFE7     		b	.L1
  78              	.L6:
  79              		.align	2
  80              	.L5:
  81 0030 00000000 		.word	.LANCHOR0
  82              		.cfi_endproc
  83              	.LFE130:
  85              		.global	midi_notes
  86              		.section	.rodata
  87              		.align	2
  88              		.set	.LANCHOR0,. + 0
  89              	.LC0:
  90 0000 AB       		.byte	-85
  91 0001 AB       		.byte	-85
  92 0002 AB       		.byte	-85
  93              		.section	.rodata.midi_notes,"a",%progbits
  94              		.align	2
  97              	midi_notes:
  98 0000 1301     		.short	275
  99 0002 2301     		.short	291
 100 0004 3501     		.short	309
 101 0006 4701     		.short	327
 102 0008 5A01     		.short	346
 103 000a 6F01     		.short	367
 104 000c 8501     		.short	389
 105 000e 9C01     		.short	412
 106 0010 B501     		.short	437
 107 0012 CE01     		.short	462
 108 0014 EA01     		.short	490
 109 0016 0702     		.short	519
 110 0018 2602     		.short	550
 111 001a 4702     		.short	583
 112 001c 6902     		.short	617
 113 001e 8E02     		.short	654
 114 0020 B502     		.short	693
 115 0022 DE02     		.short	734
 116 0024 0A03     		.short	778
 117 0026 3803     		.short	824
 118 0028 6903     		.short	873
 119 002a 9D03     		.short	925
 120 002c D403     		.short	980
 121 002e 0E04     		.short	1038
 122 0030 4C04     		.short	1100
 123 0032 8D04     		.short	1165
 124 0034 D304     		.short	1235
 125 0036 1C05     		.short	1308
 126 0038 6A05     		.short	1386
 127 003a BC05     		.short	1468
 128 003c 1406     		.short	1556
 129 003e 7006     		.short	1648
ARM GAS  /tmp/ccNu5QHq.s 			page 5


 130 0040 D206     		.short	1746
 131 0042 3A07     		.short	1850
 132 0044 A807     		.short	1960
 133 0046 1D08     		.short	2077
 134 0048 9808     		.short	2200
 135 004a 1B09     		.short	2331
 136 004c A509     		.short	2469
 137 004e 380A     		.short	2616
 138 0050 D40A     		.short	2772
 139 0052 790B     		.short	2937
 140 0054 270C     		.short	3111
 141 0056 E00C     		.short	3296
 142 0058 A40D     		.short	3492
 143 005a 740E     		.short	3700
 144 005c 500F     		.short	3920
 145 005e 3910     		.short	4153
 146 0060 3011     		.short	4400
 147 0062 3612     		.short	4662
 148 0064 4B13     		.short	4939
 149 0066 7114     		.short	5233
 150 0068 A815     		.short	5544
 151 006a F116     		.short	5873
 152 006c 4F18     		.short	6223
 153 006e C119     		.short	6593
 154 0070 491B     		.short	6985
 155 0072 E81C     		.short	7400
 156 0074 A01E     		.short	7840
 157 0076 7220     		.short	8306
 158 0078 6022     		.short	8800
 159 007a 6B24     		.short	9323
 160 007c 9626     		.short	9878
 161 007e E128     		.short	10465
 162 0080 4F2B     		.short	11087
 163 0082 E32D     		.short	11747
 164 0084 9D30     		.short	12445
 165 0086 8133     		.short	13185
 166 0088 9136     		.short	13969
 167 008a D039     		.short	14800
 168 008c 403D     		.short	15680
 169 008e E440     		.short	16612
 170 0090 C044     		.short	17600
 171 0092 D748     		.short	18647
 172 0094 2B4D     		.short	19755
 173 0096 C251     		.short	20930
 174 0098 9F56     		.short	22175
 175 009a C55B     		.short	23493
 176 009c 3A61     		.short	24890
 177 009e 0267     		.short	26370
 178 00a0 226D     		.short	27938
 179 00a2 A073     		.short	29600
 180 00a4 807A     		.short	31360
 181 00a6 C881     		.short	-32312
 182 00a8 8089     		.short	-30336
 183 00aa AD91     		.short	-28243
 184 00ac 579A     		.short	-26025
 185 00ae 84A3     		.short	-23676
 186 00b0 00000000 		.space	78
ARM GAS  /tmp/ccNu5QHq.s 			page 6


 186      00000000 
 186      00000000 
 186      00000000 
 186      00000000 
 187              		.text
 188              	.Letext0:
 189              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 190              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 191              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 192              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 193              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f429xx.h"
 194              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 195              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 196              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 197              		.file 10 "Inc/midi.h"
ARM GAS  /tmp/ccNu5QHq.s 			page 7


DEFINED SYMBOLS
                            *ABS*:0000000000000000 midi.c
     /tmp/ccNu5QHq.s:18     .text.Receive_MIDI:0000000000000000 $t
     /tmp/ccNu5QHq.s:25     .text.Receive_MIDI:0000000000000000 Receive_MIDI
     /tmp/ccNu5QHq.s:81     .text.Receive_MIDI:0000000000000030 $d
     /tmp/ccNu5QHq.s:97     .rodata.midi_notes:0000000000000000 midi_notes
     /tmp/ccNu5QHq.s:87     .rodata:0000000000000000 $d
     /tmp/ccNu5QHq.s:94     .rodata.midi_notes:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
HAL_SPI_GetState
HAL_SPI_TransmitReceive_IT
