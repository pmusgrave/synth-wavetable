ARM GAS  /tmp/ccNLDLoj.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"midi.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Receive_MIDI,"ax",%progbits
  18              		.align	1
  19              		.global	Receive_MIDI
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	Receive_MIDI:
  26              	.LFB130:
  27              		.file 1 "Src/midi.c"
   1:Src/midi.c    **** #include "midi.h"
   2:Src/midi.c    **** #include <stdint.h>
   3:Src/midi.c    **** 
   4:Src/midi.c    **** const float midi_notes[88] = {
   5:Src/midi.c    ****                                27.5,
   6:Src/midi.c    ****                                29.13524,
   7:Src/midi.c    ****                                30.86771,
   8:Src/midi.c    ****                                32.7032,
   9:Src/midi.c    ****                                34.64783,
  10:Src/midi.c    ****                                36.7081,
  11:Src/midi.c    ****                                38.89087,
  12:Src/midi.c    ****                                41.20344,
  13:Src/midi.c    ****                                43.65353,
  14:Src/midi.c    ****                                46.2493,
  15:Src/midi.c    ****                                48.99943,
  16:Src/midi.c    ****                                51.91309,
  17:Src/midi.c    ****                                55,
  18:Src/midi.c    ****                                58.27047,
  19:Src/midi.c    ****                                61.73541,
  20:Src/midi.c    ****                                65.40639,
  21:Src/midi.c    ****                                69.29566,
  22:Src/midi.c    ****                                73.41619,
  23:Src/midi.c    ****                                77.78175,
  24:Src/midi.c    ****                                82.40689,
  25:Src/midi.c    ****                                87.30706,
  26:Src/midi.c    ****                                92.49861,
  27:Src/midi.c    ****                                97.99886,
  28:Src/midi.c    ****                                103.8262,
  29:Src/midi.c    ****                                110,
  30:Src/midi.c    ****                                116.5409,
  31:Src/midi.c    ****                                123.4708,
ARM GAS  /tmp/ccNLDLoj.s 			page 2


  32:Src/midi.c    ****                                130.8128,
  33:Src/midi.c    ****                                138.5913,
  34:Src/midi.c    ****                                146.8324,
  35:Src/midi.c    ****                                155.5635,
  36:Src/midi.c    ****                                164.8138,
  37:Src/midi.c    ****                                174.6141,
  38:Src/midi.c    ****                                184.9972,
  39:Src/midi.c    ****                                195.9977,
  40:Src/midi.c    ****                                207.6523,
  41:Src/midi.c    ****                                220,
  42:Src/midi.c    ****                                233.0819,
  43:Src/midi.c    ****                                246.9417,
  44:Src/midi.c    ****                                261.6256,
  45:Src/midi.c    ****                                277.1826,
  46:Src/midi.c    ****                                293.6648,
  47:Src/midi.c    ****                                311.127,
  48:Src/midi.c    ****                                329.6276,
  49:Src/midi.c    ****                                349.2282,
  50:Src/midi.c    ****                                369.9944,
  51:Src/midi.c    ****                                391.9954,
  52:Src/midi.c    ****                                415.3047,
  53:Src/midi.c    ****                                440,
  54:Src/midi.c    ****                                466.1638,
  55:Src/midi.c    ****                                493.8833,
  56:Src/midi.c    ****                                523.2511,
  57:Src/midi.c    ****                                554.3653,
  58:Src/midi.c    ****                                587.3295,
  59:Src/midi.c    ****                                622.254,
  60:Src/midi.c    ****                                659.2551,
  61:Src/midi.c    ****                                698.4565,
  62:Src/midi.c    ****                                739.9888,
  63:Src/midi.c    ****                                783.9909,
  64:Src/midi.c    ****                                830.6094,
  65:Src/midi.c    ****                                880     ,
  66:Src/midi.c    ****                                932.3275,
  67:Src/midi.c    ****                                987.7666,
  68:Src/midi.c    ****                                1046.502,
  69:Src/midi.c    ****                                1108.731,
  70:Src/midi.c    ****                                1174.659,
  71:Src/midi.c    ****                                1244.508,
  72:Src/midi.c    ****                                1318.51 ,
  73:Src/midi.c    ****                                1396.913,
  74:Src/midi.c    ****                                1479.978,
  75:Src/midi.c    ****                                1567.982,
  76:Src/midi.c    ****                                1661.219,
  77:Src/midi.c    ****                                1760    ,
  78:Src/midi.c    ****                                1864.655,
  79:Src/midi.c    ****                                1975.533,
  80:Src/midi.c    ****                                2093.005,
  81:Src/midi.c    ****                                2217.461,
  82:Src/midi.c    ****                                2349.318,
  83:Src/midi.c    ****                                2489.016,
  84:Src/midi.c    ****                                2637.02 ,
  85:Src/midi.c    ****                                2793.826,
  86:Src/midi.c    ****                                2959.955,
  87:Src/midi.c    ****                                3135.963,
  88:Src/midi.c    ****                                3322.438,
ARM GAS  /tmp/ccNLDLoj.s 			page 3


  89:Src/midi.c    ****                                3520    ,
  90:Src/midi.c    ****                                3729.31 ,
  91:Src/midi.c    ****                                3951.066,
  92:Src/midi.c    **** };
  93:Src/midi.c    **** 
  94:Src/midi.c    **** void Receive_MIDI(SPI_HandleTypeDef* hspi, uint8_t* spi_rx_buffer) {
  28              		.loc 1 94 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              	.LVL0:
  33 0000 30B5     		push	{r4, r5, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 12
  36              		.cfi_offset 4, -12
  37              		.cfi_offset 5, -8
  38              		.cfi_offset 14, -4
  39 0002 83B0     		sub	sp, sp, #12
  40              	.LCFI1:
  41              		.cfi_def_cfa_offset 24
  42 0004 0446     		mov	r4, r0
  43 0006 0D46     		mov	r5, r1
  95:Src/midi.c    ****   //  if(!HAL_GPIO_ReadPin(GPIOF,GPIO_PIN_6) &&
  96:Src/midi.c    ****   if( HAL_SPI_GetState(hspi) == HAL_SPI_STATE_READY){
  44              		.loc 1 96 0
  45 0008 FFF7FEFF 		bl	HAL_SPI_GetState
  46              	.LVL1:
  47 000c 0128     		cmp	r0, #1
  48 000e 01D0     		beq	.L4
  49              	.L1:
  97:Src/midi.c    ****     uint8_t data[3] = {0xAB, 0xAB, 0xAB};
  98:Src/midi.c    ****     HAL_SPI_TransmitReceive_IT(hspi, data, spi_rx_buffer, 1);
  99:Src/midi.c    ****   }
 100:Src/midi.c    **** }
  50              		.loc 1 100 0
  51 0010 03B0     		add	sp, sp, #12
  52              	.LCFI2:
  53              		.cfi_remember_state
  54              		.cfi_def_cfa_offset 12
  55              		@ sp needed
  56 0012 30BD     		pop	{r4, r5, pc}
  57              	.LVL2:
  58              	.L4:
  59              	.LCFI3:
  60              		.cfi_restore_state
  61              	.LBB2:
  97:Src/midi.c    ****     uint8_t data[3] = {0xAB, 0xAB, 0xAB};
  62              		.loc 1 97 0
  63 0014 064B     		ldr	r3, .L5
  64 0016 1B68     		ldr	r3, [r3]
  65 0018 ADF80430 		strh	r3, [sp, #4]	@ movhi
  66 001c 1B0C     		lsrs	r3, r3, #16
  67 001e 8DF80630 		strb	r3, [sp, #6]
  98:Src/midi.c    ****   }
  68              		.loc 1 98 0
  69 0022 0123     		movs	r3, #1
  70 0024 2A46     		mov	r2, r5
ARM GAS  /tmp/ccNLDLoj.s 			page 4


  71 0026 01A9     		add	r1, sp, #4
  72 0028 2046     		mov	r0, r4
  73 002a FFF7FEFF 		bl	HAL_SPI_TransmitReceive_IT
  74              	.LVL3:
  75              	.LBE2:
  76              		.loc 1 100 0
  77 002e EFE7     		b	.L1
  78              	.L6:
  79              		.align	2
  80              	.L5:
  81 0030 00000000 		.word	.LANCHOR0
  82              		.cfi_endproc
  83              	.LFE130:
  85              		.global	midi_notes
  86              		.section	.rodata
  87              		.align	2
  88              		.set	.LANCHOR0,. + 0
  89              	.LC0:
  90 0000 AB       		.byte	-85
  91 0001 AB       		.byte	-85
  92 0002 AB       		.byte	-85
  93              		.section	.rodata.midi_notes,"a",%progbits
  94              		.align	2
  97              	midi_notes:
  98 0000 0000DC41 		.word	1104936960
  99 0004 F914E941 		.word	1105794297
 100 0008 12F1F641 		.word	1106702610
 101 000c 14D00242 		.word	1107480596
 102 0010 61970A42 		.word	1107990369
 103 0014 18D51242 		.word	1108530456
 104 0018 40901B42 		.word	1109102656
 105 001c 53D02442 		.word	1109708883
 106 0020 379D2E42 		.word	1110351159
 107 0024 48FF3842 		.word	1111031624
 108 0028 6BFF4342 		.word	1111752555
 109 002c 01A74F42 		.word	1112516353
 110 0030 00005C42 		.word	1113325568
 111 0034 F6146942 		.word	1114182902
 112 0038 0FF17642 		.word	1115091215
 113 003c 12D08242 		.word	1115869202
 114 0040 61978A42 		.word	1116378977
 115 0044 17D59242 		.word	1116919063
 116 0048 42909B42 		.word	1117491266
 117 004c 54D0A442 		.word	1118097492
 118 0050 379DAE42 		.word	1118739767
 119 0054 4AFFB842 		.word	1119420234
 120 0058 6BFFC342 		.word	1120141163
 121 005c 04A7CF42 		.word	1120904964
 122 0060 0000DC42 		.word	1121714176
 123 0064 F114E942 		.word	1122571505
 124 0068 0DF1F642 		.word	1123479821
 125 006c 14D00243 		.word	1124257812
 126 0070 5F970A43 		.word	1124767583
 127 0074 18D51243 		.word	1125307672
 128 0078 42901B43 		.word	1125879874
 129 007c 55D02443 		.word	1126486101
 130 0080 369D2E43 		.word	1127128374
ARM GAS  /tmp/ccNLDLoj.s 			page 5


 131 0084 48FF3843 		.word	1127808840
 132 0088 69FF4343 		.word	1128529769
 133 008c FDA64F43 		.word	1129293565
 134 0090 00005C43 		.word	1130102784
 135 0094 F7146943 		.word	1130960119
 136 0098 13F17643 		.word	1131868435
 137 009c 14D08243 		.word	1132646420
 138 00a0 5F978A43 		.word	1133156191
 139 00a4 18D59243 		.word	1133696280
 140 00a8 42909B43 		.word	1134268482
 141 00ac 55D0A443 		.word	1134874709
 142 00b0 369DAE43 		.word	1135516982
 143 00b4 48FFB843 		.word	1136197448
 144 00b8 69FFC343 		.word	1136918377
 145 00bc 00A7CF43 		.word	1137682176
 146 00c0 0000DC43 		.word	1138491392
 147 00c4 F714E943 		.word	1139348727
 148 00c8 10F1F643 		.word	1140257040
 149 00cc 12D00244 		.word	1141035026
 150 00d0 61970A44 		.word	1141544801
 151 00d4 17D51244 		.word	1142084887
 152 00d8 42901B44 		.word	1142657090
 153 00dc 54D02444 		.word	1143263316
 154 00e0 379D2E44 		.word	1143905591
 155 00e4 48FF3844 		.word	1144586056
 156 00e8 6BFF4344 		.word	1145306987
 157 00ec 00A74F44 		.word	1146070784
 158 00f0 00005C44 		.word	1146880000
 159 00f4 F6146944 		.word	1147737334
 160 00f8 10F17644 		.word	1148645648
 161 00fc 10D08244 		.word	1149423632
 162 0100 64978A44 		.word	1149933412
 163 0104 17D59244 		.word	1150473495
 164 0108 42909B44 		.word	1151045698
 165 010c 52D0A444 		.word	1151651922
 166 0110 379DAE44 		.word	1152294199
 167 0114 4CFFB844 		.word	1152974668
 168 0118 6DFFC344 		.word	1153695597
 169 011c 02A7CF44 		.word	1154459394
 170 0120 0000DC44 		.word	1155268608
 171 0124 F614E944 		.word	1156125942
 172 0128 0EF1F644 		.word	1157034254
 173 012c 14D00245 		.word	1157812244
 174 0130 60970A45 		.word	1158322016
 175 0134 17D51245 		.word	1158862103
 176 0138 42901B45 		.word	1159434306
 177 013c 52D02445 		.word	1160040530
 178 0140 379D2E45 		.word	1160682807
 179 0144 48FF3845 		.word	1161363272
 180 0148 68FF4345 		.word	1162084200
 181 014c 02A74F45 		.word	1162848002
 182 0150 00005C45 		.word	1163657216
 183 0154 F6146945 		.word	1164514550
 184 0158 0EF17645 		.word	1165422862
 185 015c 00000000 		.space	4
 186              		.text
 187              	.Letext0:
ARM GAS  /tmp/ccNLDLoj.s 			page 6


 188              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 189              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 190              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 191              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 192              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f429xx.h"
 193              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 194              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 195              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 196              		.file 10 "Inc/midi.h"
ARM GAS  /tmp/ccNLDLoj.s 			page 7


DEFINED SYMBOLS
                            *ABS*:0000000000000000 midi.c
     /tmp/ccNLDLoj.s:18     .text.Receive_MIDI:0000000000000000 $t
     /tmp/ccNLDLoj.s:25     .text.Receive_MIDI:0000000000000000 Receive_MIDI
     /tmp/ccNLDLoj.s:81     .text.Receive_MIDI:0000000000000030 $d
     /tmp/ccNLDLoj.s:97     .rodata.midi_notes:0000000000000000 midi_notes
     /tmp/ccNLDLoj.s:87     .rodata:0000000000000000 $d
     /tmp/ccNLDLoj.s:94     .rodata.midi_notes:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
HAL_SPI_GetState
HAL_SPI_TransmitReceive_IT
